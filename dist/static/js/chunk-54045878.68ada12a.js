(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54045878"],{"0b67":function(e,t,i){"use strict";var r=i("498b"),a=i.n(r);a.a},"498b":function(e,t,i){},"55cd":function(e,t,i){"use strict";i.r(t);var r=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("sticky",{attrs:{"z-index":10,"class-name":"sub-navbar"}},[i("div",{staticClass:"page-title"},[i("div",{staticClass:"title-container"},[i("router-link",{staticClass:"link-back",attrs:{to:"/users/role"}},[i("font-awesome-icon",{staticClass:"icon-back",attrs:{icon:"chevron-left",color:"#424242"}})],1),e._v(" "),i("span",{staticClass:"title-page"},[e._v(e._s(e.formTitle))])],1),e._v(" "),i("div",{staticClass:"action-container"},[i("router-link",{attrs:{to:"/users/role"}},[i("el-button",{staticClass:"btn-back",attrs:{plain:""}},[e._v(e._s(e.generateTitleView("skip","role")))])],1),e._v(" "),i("el-button",{staticClass:"btn-save",attrs:{type:"primary",plain:""},on:{click:e.handleSubmit}},[e._v(e._s(e.generateTitleView("save","role"))+"\n        ")])],1)])]),e._v(" "),i("div",{staticClass:"role-info"},[i("div",{staticClass:"info-title"},[e._v(e._s(e.generateTitleView("roleInfo","role")))]),e._v(" "),i("div",{staticClass:"info-content"},[i("el-form",{ref:"form",staticClass:"user-form",attrs:{model:e.formCreate,rules:e.rules,"label-position":"top","label-width":"150px"}},[i("el-form-item",{staticClass:"item-name",attrs:{label:e.generateTitleView("roleName","role"),prop:"name"}},[i("el-input",{attrs:{disabled:!1},model:{value:e.formCreate.name,callback:function(t){e.$set(e.formCreate,"name",t)},expression:"formCreate.name"}})],1),e._v(" "),i("el-form-item",{staticClass:"item-description",attrs:{label:e.generateTitleView("description","role"),prop:"description"}},[i("el-input",{attrs:{disabled:!1,type:"textarea",rows:"5"},model:{value:e.formCreate.description,callback:function(t){e.$set(e.formCreate,"description",t)},expression:"formCreate.description"}})],1),e._v(" "),i("el-form-item",{staticClass:"item-status",attrs:{label:e.generateTitleView("status","role"),prop:"isActive"}},[i("el-select",{attrs:{placeholder:e.generateTitleView("placeholder","role")},model:{value:e.formCreate.isActive,callback:function(t){e.$set(e.formCreate,"isActive",t)},expression:"formCreate.isActive"}},e._l(e.listStatus,(function(t,r){return i("el-option",{key:r,attrs:{value:t.value,label:t.label}},[e._v(e._s(t.label)+"\n            ")])})),1)],1)],1)],1)])],1)},a=[],s=(i("7f7f"),i("5530")),l=i("2f62"),n=i("b804"),o=i("6087"),c={name:"",title:"Role",model:"role"},u={name:"",description:"",isActive:!0,roleType:1},d={name:[{required:!0,message:"Vui lòng nhập tên ".concat(c.title.toLowerCase(),"!"),trigger:"blur"}],description:[{required:!0,message:"Vui lòng nhập mô tả!",trigger:"blur"}]},m={name:"CreateRole",components:{Sticky:n["default"]},data:function(){return{formCreate:JSON.parse(JSON.stringify(u)),isLoading:!1,rules:d,listStatus:[{value:!1,label:this.generateTitleView("deactive","role")},{value:!0,label:this.generateTitleView("active","role")}],formTitle:null!=this.$router.currentRoute.params.id?this.generateTitleView("editRole","role"):this.generateTitleView("createRole","role")}},computed:Object(s["a"])({},Object(l["mapGetters"])(["language"])),watch:{language:{immediate:!0,handler:function(){this.rules={name:[{required:!0,message:this.generateTitleView("nameRequired","role"),trigger:"blur"}],description:[{required:!0,message:this.generateTitleView("descriptionRequired","role"),trigger:"blur"}]},this.listStatus=[{value:!1,label:this.generateTitleView("deactive","role")},{value:!0,label:this.generateTitleView("active","role")}]}}},mounted:function(){this.$store.commit("app/CHANGE_APP_TITLE","HỆ THỐNG GIÁM SÁT VÀ ĐIỀU KHIỂN ROBOT"),this.formTitle=this.generateTitleView("createRole","role");var e=this.$router.currentRoute.params.id;"undefined"!==typeof e&&null!=e&&(this.getRoleDetail(e),this.formTitle=this.generateTitleView("editRole","role"))},methods:{handleSubmit:function(){this.formTitle===this.generateTitleView("editRole","role")?this.editRole():this.createRole()},createRole:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.isLoading=!0;var i=e.$store.dispatch(c.model+"/Create",e.formCreate).then((function(t){e.isLoading=!1,t.isSuccess?(e.formCreate=JSON.parse(JSON.stringify(u)),e.$notify.success({title:e.generateTitleView("success","message"),message:e.generateTitleView("successMessage","message"),duration:2e3}),window.location.href="/#/users/role"):e.$notify.error({title:e.generateTitleView("error","message"),message:t.message,duration:2e3})}));return i}}))},editRole:function(){var e=this;this.$refs["form"].validate((function(t){if(t){e.isLoading=!0;var i=e.$store.dispatch(c.model+"/Edit",e.formCreate).then((function(t){e.isLoading=!1,t.isSuccess?(e.$notify.success({title:"Thành công",message:"Dữ liệu cập nhật thành công !",duration:2e3}),window.location.href="/#/users/role"):e.$notify.error({title:"Thất bại",message:"Dữ liệu cập nhật thất bại!",duration:2e3})}));return i}}))},getRoleDetail:function(e){var t=this,i=this.$store.dispatch(c.model+"/FetchOne",{id:e}).then((function(e){var i=e.payload.records[0],r={id:i.id,name:i.name,description:i.description,isActive:i.isActive};t.formCreate=JSON.parse(JSON.stringify(r))}));return i},generateTitleView:o["generateTitleView"]}},f=m,p=(i("0b67"),i("2877")),g=Object(p["a"])(f,r,a,!1,null,"18a3bae3",null);t["default"]=g.exports}}]);